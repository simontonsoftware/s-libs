<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@s-libs/signal-store</title><meta name="description" content="Documentation for @s-libs/signal-store"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@s-libs/signal-store</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@s-libs/signal-store</h1></div><div class="tsd-panel tsd-typography"><p>A state management library build on Angular signals. An API inspired by <a href="https://github.com/simontonsoftware/s-libs/tree/master/projects/app-state"><code>app-state</code></a> allows you to directly read, write and observe any part of your state without writing any selectors, actions, or reducers. Directly bind any part of the store using <code>[(ngModel)]</code>.</p>
<h2 id="api-documentation" class="tsd-anchor-link">API Documentation<a href="#api-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Once you are familiar with the basics, definitely check out the <a href="https://simontonsoftware.github.io/s-libs/signal-store">api documentation</a> to find more details and utilities.</p>
<h2 id="introduction" class="tsd-anchor-link">Introduction<a href="#introduction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>A basic idea behind this library is to keep all the state of your app in one place, accessible for any component or service to access, modify and subscribe to changes. This has several benefits:</p>
<ul>
<li>Components no longer need multiple inputs and outputs to route state and mutations to the proper components. Instead, they can obtain the store via dependency injection.</li>
<li>During debugging, you can look in one place to see the state of your entire app. Moreover, development tools can be used to see this information at a glance along with a full history of changes leading up to the current state (<a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en">Redux DevTools</a>).</li>
<li>The objects in the store are immutable (as long as you only modify the state via the store, as you should), which enables more benefits:
<ul>
<li>Immutable objects allow you to use on-push change detection, which can be a huge performance gain for apps with a large state.</li>
<li>Undo/redo features become very simple. Check the API docs for a helper.</li>
</ul>
</li>
<li>Every piece of state is observable. You can subscribe to the root of the store to get notified of every state change anywhere in the app, for a specific boolean buried deep within your state, or anywhere in between.</li>
</ul>
<p>2 terms are worth defining immediately. As they are used in this library, they mean:</p>
<ul>
<li><strong>State</strong>: a javascript object (or primitive) kept within the store. A subset of the entire application state is still considered state on its own.</li>
<li><strong>Store</strong>: the keeper of state. You will always interact with the state via the store, whether to access it, observe it or modify it. You can obtain store objects to represent a subset of your state as well, which are also store objects on their own.</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Install along with its peer dependencies using:</p>
<pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@s-libs/signal-store</span><span class="hl-1"> </span><span class="hl-2">@s-libs/js-core</span><span class="hl-1"> </span><span class="hl-2">@s-libs/micro-dash</span>
</code><button type="button">Copy</button></pre>

<h2 id="setup" class="tsd-anchor-link">Setup<a href="#setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Define the shape of your application state using typescript classes or interfaces (but prefer classes, as noted in the style guide below). For example:</p>
<pre><code class="ts"><span class="hl-3">// state/my-state.ts</span><br/><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">User</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./user&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">MyState</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">loading</span><span class="hl-1"> = </span><span class="hl-6">true</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">currentUser</span><span class="hl-1">?: </span><span class="hl-7">User</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="ts"><span class="hl-3">// state/user.ts</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">User</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">id</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Then create a subclass of <code>RootStore</code>. A single instance of that class will serve as the entry point to obtain and modify the state it holds. Most often you will make that class an Angular service that can be injected anywhere in your app. For example:</p>
<pre><code class="ts"><span class="hl-3">// state/my-store.ts</span><br/><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Injectable</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@angular/core&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">RootStore</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@s-libs/signal-store&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">MyState</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;./my-state&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">({ </span><span class="hl-5">providedIn:</span><span class="hl-1"> </span><span class="hl-2">&quot;root&quot;</span><span class="hl-1"> })</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">MyStore</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">RootStore</span><span class="hl-1">&lt;</span><span class="hl-7">MyState</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">MyState</span><span class="hl-1">());</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Consider this translation of the counter example from the <code>ngrx/store</code> readme:</p>
<pre><code class="ts"><span class="hl-3">// app-state.ts</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">AppState</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">counter</span><span class="hl-1"> = </span><span class="hl-8">0</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// app-store.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Injectable</span><span class="hl-1">({ </span><span class="hl-5">providedIn:</span><span class="hl-1"> </span><span class="hl-2">&quot;root&quot;</span><span class="hl-1"> })</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">AppStore</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-7">RootStore</span><span class="hl-1">&lt;</span><span class="hl-7">AppState</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-6">super</span><span class="hl-1">(</span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">AppState</span><span class="hl-1">());</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// my-app-component.ts</span><br/><span class="hl-1">@</span><span class="hl-0">Component</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">selector:</span><span class="hl-1"> </span><span class="hl-2">&quot;sl-my-app&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">template:</span><span class="hl-1"> </span><span class="hl-2">`</span><br/><span class="hl-2">    &lt;button (click)=&quot;counter.state = counter.state + 1&quot;&gt;Increment&lt;/button&gt;</span><br/><span class="hl-2">    &lt;div&gt;Current Count: {{ counter.state }}&lt;/div&gt;</span><br/><span class="hl-2">    &lt;button (click)=&quot;counter.state = counter.state - 1&quot;&gt;Decrement&lt;/button&gt;</span><br/><br/><span class="hl-2">    &lt;button (click)=&quot;counter.state = 0&quot;&gt;Reset Counter&lt;/button&gt;</span><br/><span class="hl-2">  `</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">standalone:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">changeDetection:</span><span class="hl-1"> </span><span class="hl-5">ChangeDetectionStrategy</span><span class="hl-1">.</span><span class="hl-5">OnPush</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-7">MyAppComponent</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">protected</span><span class="hl-1"> </span><span class="hl-5">counter</span><span class="hl-1"> = </span><span class="hl-0">inject</span><span class="hl-1">(</span><span class="hl-5">AppStore</span><span class="hl-1">)(</span><span class="hl-2">&quot;counter&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="style-guide" class="tsd-anchor-link">Style Guide<a href="#style-guide" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Define your state using classes instead of interfaces, and when possible make <code>new StateObject()</code> come with the default values for all its properties.</li>
<li>When possible, only use plain object in your state. State classes can have a constructor to assist when creating a new object, but avoid any other methods. This allows you to set properties on it and use other mutation methods freely. Mutating causes that object and all its ancestors to be recreated as plain objects or arrays, losing any methods defined by its prototype.</li>
<li>When obtaining the current state of a nested property, prefer using <code>.state</code> at the end of the chain. E.g.:<pre><code class="ts"><span class="hl-0">store</span><span class="hl-1">(</span><span class="hl-2">&quot;currentUser&quot;</span><span class="hl-1">)(</span><span class="hl-2">&quot;name&quot;</span><span class="hl-1">).</span><span class="hl-5">state</span><span class="hl-1">; </span><span class="hl-3">// do this</span><br/><span class="hl-5">store</span><span class="hl-1">.</span><span class="hl-5">state</span><span class="hl-1">.</span><span class="hl-5">currentUser</span><span class="hl-1">.</span><span class="hl-5">name</span><span class="hl-1">; </span><span class="hl-3">// not this</span>
</code><button type="button">Copy</button></pre>

This allows usage inside templates and effects to be marked dirty less often. When using <code>.state</code> any change at the level of the store or lower will mark it dirty, so delaying the use of <code>.state</code> until a leaf node in your state will trigger it less often.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#api-documentation"><span>API <wbr/>Documentation</span></a><a href="#introduction"><span>Introduction</span></a><a href="#installation"><span>Installation</span></a><a href="#setup"><span>Setup</span></a><a href="#usage"><span>Usage</span></a><a href="#style-guide"><span>Style <wbr/>Guide</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@s-libs/signal-store</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
